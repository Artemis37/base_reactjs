{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\Downloads\\\\ClientApp\\\\src\\\\layout\\\\ProtectedRoute.js\",\n    _s = $RefreshSig$();\n\nimport { Redirect, Route, withRouter } from 'react-router';\nimport { useSelector } from 'react-redux';\nimport { getToken } from '../utils/security';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ProtectedRoute(props) {\n  _s();\n\n  const permissions = useSelector(state => state.user.permissions);\n  const {\n    route\n  } = props;\n  const isLogin = getToken();\n  const havePermission = !permissions || !route.component.props.requirePermission || permissions.find(item => item.code === route.component.props.requirePermission) !== undefined;\n  return /*#__PURE__*/_jsxDEV(Route, {\n    path: route.path,\n    exact: route.exact,\n    permission: route,\n    render: () => !isLogin ? /*#__PURE__*/_jsxDEV(Redirect, {\n      from: route.path,\n      to: {\n        pathname: '/login',\n        state: route.path\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 11\n    }, this) : !havePermission ? /*#__PURE__*/_jsxDEV(Redirect, {\n      from: route.path,\n      to: {\n        pathname: '/accessDenied',\n        state: route.path\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 11\n    }, this) : route.component\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ProtectedRoute, \"xCJ4AY1AWAzeKQNIagZk5YliWE4=\", false, function () {\n  return [useSelector];\n});\n\n_c = ProtectedRoute;\nexport default _c2 = withRouter(ProtectedRoute);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"ProtectedRoute\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["Redirect","Route","withRouter","useSelector","getToken","ProtectedRoute","props","permissions","state","user","route","isLogin","havePermission","component","requirePermission","find","item","code","undefined","path","exact","pathname"],"sources":["C:/Users/DELL/Downloads/ClientApp/src/layout/ProtectedRoute.js"],"sourcesContent":["import { Redirect, Route, withRouter } from 'react-router'\nimport { useSelector } from 'react-redux'\nimport { getToken } from '../utils/security'\n\nfunction ProtectedRoute(props) {\n  const permissions = useSelector((state) => state.user.permissions)\n  const { route } = props\n  const isLogin = getToken()\n  const havePermission =\n    !permissions ||\n    !route.component.props.requirePermission ||\n    permissions.find((item) => item.code === route.component.props.requirePermission) !== undefined\n  return (\n    <Route\n      path={route.path}\n      exact={route.exact}\n      permission={route}\n      render={() =>\n        !isLogin ? (\n          <Redirect from={route.path} to={{ pathname: '/login', state: route.path }} />\n        ) : !havePermission ? (\n          <Redirect from={route.path} to={{ pathname: '/accessDenied', state: route.path }} />\n        ) : (\n          route.component\n        )\n      }\n    />\n  )\n}\n\nexport default withRouter(ProtectedRoute)\n"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,KAAnB,EAA0BC,UAA1B,QAA4C,cAA5C;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,QAAT,QAAyB,mBAAzB;;;AAEA,SAASC,cAAT,CAAwBC,KAAxB,EAA+B;EAAA;;EAC7B,MAAMC,WAAW,GAAGJ,WAAW,CAAEK,KAAD,IAAWA,KAAK,CAACC,IAAN,CAAWF,WAAvB,CAA/B;EACA,MAAM;IAAEG;EAAF,IAAYJ,KAAlB;EACA,MAAMK,OAAO,GAAGP,QAAQ,EAAxB;EACA,MAAMQ,cAAc,GAClB,CAACL,WAAD,IACA,CAACG,KAAK,CAACG,SAAN,CAAgBP,KAAhB,CAAsBQ,iBADvB,IAEAP,WAAW,CAACQ,IAAZ,CAAkBC,IAAD,IAAUA,IAAI,CAACC,IAAL,KAAcP,KAAK,CAACG,SAAN,CAAgBP,KAAhB,CAAsBQ,iBAA/D,MAAsFI,SAHxF;EAIA,oBACE,QAAC,KAAD;IACE,IAAI,EAAER,KAAK,CAACS,IADd;IAEE,KAAK,EAAET,KAAK,CAACU,KAFf;IAGE,UAAU,EAAEV,KAHd;IAIE,MAAM,EAAE,MACN,CAACC,OAAD,gBACE,QAAC,QAAD;MAAU,IAAI,EAAED,KAAK,CAACS,IAAtB;MAA4B,EAAE,EAAE;QAAEE,QAAQ,EAAE,QAAZ;QAAsBb,KAAK,EAAEE,KAAK,CAACS;MAAnC;IAAhC;MAAA;MAAA;MAAA;IAAA,QADF,GAEI,CAACP,cAAD,gBACF,QAAC,QAAD;MAAU,IAAI,EAAEF,KAAK,CAACS,IAAtB;MAA4B,EAAE,EAAE;QAAEE,QAAQ,EAAE,eAAZ;QAA6Bb,KAAK,EAAEE,KAAK,CAACS;MAA1C;IAAhC;MAAA;MAAA;MAAA;IAAA,QADE,GAGFT,KAAK,CAACG;EAVZ;IAAA;IAAA;IAAA;EAAA,QADF;AAgBD;;GAxBQR,c;UACaF,W;;;KADbE,c;AA0BT,qBAAeH,UAAU,CAACG,cAAD,CAAzB"},"metadata":{},"sourceType":"module"}