{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\NoMin\\\\OneDrive\\\\Desktop\\\\base_reactjs\\\\src\\\\components\\\\menu\\\\ChangePassword.js\",\n  _s = $RefreshSig$();\nimport { useState } from 'react';\nimport { Button } from 'primereact/button';\nimport { useSelector } from 'react-redux';\nimport userProcessor from '../../processor/userProcessor';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ChangePassword = () => {\n  _s();\n  const [data, setData] = useState({});\n  const [error, setError] = useState({});\n  const toast = useSelector(store => store.notify.toast);\n  const [visible, setVisible] = useState(false);\n  const toggle = () => setVisible(!visible);\n  const required = ['password', 'newPassword'];\n  const fields = ['password', 'newPassword'];\n  const name = {\n    password: 'Mật khẩu cũ',\n    newPassword: 'Mật khẩu mới'\n  };\n  const save = async () => {\n    const newError = {};\n    required.forEach(key => {\n      if (!fields.find(i => key === i)) {\n        return;\n      }\n      if (data[key] === '' || data[key] === undefined || data[key] === null) {\n        newError[key] = `Trường ${name[key] || key} là bắt buộc!`;\n      }\n    });\n    setError(newError);\n    if (Object.keys(newError).length === 0) {\n      const rs = await userProcessor.changePassword(data);\n      toast({\n        type: rs.isSuccess ? 'success' : 'error',\n        message: rs.data\n      });\n    }\n  };\n  const footer = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex justify-content-end w-full mt-2\",\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      label: \"Hu\\u1EF7\",\n      className: \"p-button-secondary mr-2\",\n      onClick: () => {\n        if (toggle) toggle();\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: () => {\n        save();\n      },\n      label: \"L\\u01B0u\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Modal, {\n      width: \"60%\",\n      visible: visible,\n      toggle: toggle,\n      footer: footer,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-2\",\n        children: /*#__PURE__*/_jsxDEV(Upsert, {\n          header: \"Ch\\u1EC9nh s\\u1EEDa th\\xF4ng tin ng\\u01B0\\u1EDDi d\\xF9ng\",\n          values: data,\n          setValues: setData,\n          error: error,\n          fields: fields,\n          name: name,\n          types: {\n            password: 'password',\n            newPassword: 'password'\n          },\n          required: required\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      className: \"p-link\",\n      onClick: toggle,\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"pi pi-cog pi-fw\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"\\u0110\\u1ED5i m\\u1EADt kh\\u1EA9u\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(ChangePassword, \"dGkxYt3halYBTSIcDnc7HgEpABs=\", false, function () {\n  return [useSelector];\n});\n_c = ChangePassword;\nexport default ChangePassword;\nvar _c;\n$RefreshReg$(_c, \"ChangePassword\");","map":{"version":3,"names":["useState","Button","useSelector","userProcessor","jsxDEV","_jsxDEV","Fragment","_Fragment","ChangePassword","_s","data","setData","error","setError","toast","store","notify","visible","setVisible","toggle","required","fields","name","password","newPassword","save","newError","forEach","key","find","i","undefined","Object","keys","length","rs","changePassword","type","isSuccess","message","footer","className","children","label","onClick","fileName","_jsxFileName","lineNumber","columnNumber","Modal","width","Upsert","header","values","setValues","types","_c","$RefreshReg$"],"sources":["C:/Users/NoMin/OneDrive/Desktop/base_reactjs/src/components/menu/ChangePassword.js"],"sourcesContent":["import { useState } from 'react'\r\nimport { Button } from 'primereact/button'\r\nimport { useSelector } from 'react-redux'\r\nimport userProcessor from '../../processor/userProcessor'\r\n\r\nconst ChangePassword = () => {\r\n  const [data, setData] = useState({})\r\n  const [error, setError] = useState({})\r\n  const toast = useSelector((store) => store.notify.toast)\r\n  const [visible, setVisible] = useState(false)\r\n  const toggle = () => setVisible(!visible)\r\n  const required = ['password', 'newPassword']\r\n  const fields = ['password', 'newPassword']\r\n  const name = { password: 'Mật khẩu cũ', newPassword: 'Mật khẩu mới' }\r\n  const save = async () => {\r\n    const newError = {}\r\n    required.forEach((key) => {\r\n      if (!fields.find((i) => key === i)) {\r\n        return\r\n      }\r\n      if (data[key] === '' || data[key] === undefined || data[key] === null) {\r\n        newError[key] = `Trường ${name[key] || key} là bắt buộc!`\r\n      }\r\n    })\r\n    setError(newError)\r\n    if (Object.keys(newError).length === 0) {\r\n      const rs = await userProcessor.changePassword(data)\r\n      toast({ type: rs.isSuccess ? 'success' : 'error', message: rs.data })\r\n    }\r\n  }\r\n  const footer = () => (\r\n    <div className=\"flex justify-content-end w-full mt-2\">\r\n      <Button\r\n        label=\"Huỷ\"\r\n        className=\"p-button-secondary mr-2\"\r\n        onClick={() => {\r\n          if (toggle) toggle()\r\n        }}\r\n      />\r\n      <Button\r\n        onClick={() => {\r\n          save()\r\n        }}\r\n        label=\"Lưu\"\r\n      />\r\n    </div>\r\n  )\r\n  return (\r\n    <>\r\n      <Modal width=\"60%\" visible={visible} toggle={toggle} footer={footer}>\r\n        <div className=\"mt-2\">\r\n          <Upsert\r\n            header=\"Chỉnh sửa thông tin người dùng\"\r\n            values={data}\r\n            setValues={setData}\r\n            error={error}\r\n            fields={fields}\r\n            name={name}\r\n            types={{ password: 'password', newPassword: 'password' }}\r\n            required={required}\r\n          />\r\n        </div>\r\n      </Modal>\r\n\r\n      <button type=\"button\" className=\"p-link\" onClick={toggle}>\r\n        <i className=\"pi pi-cog pi-fw\" />\r\n        <span>Đổi mật khẩu</span>\r\n      </button>\r\n    </>\r\n  )\r\n}\r\nexport default ChangePassword\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}