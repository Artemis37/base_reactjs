{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\Downloads\\\\ClientApp\\\\src\\\\components\\\\form\\\\UpsertPopup.js\",\n    _s = $RefreshSig$();\n\nimport { Button } from 'primereact/button';\nimport { useEffect, useState } from 'react';\nimport Modal from '../popup/Modal';\nimport Upsert from './Upsert';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst UpsertPopup = props => {\n  _s();\n\n  const {\n    fields,\n    toggle,\n    onSave,\n    data\n  } = props;\n  let {\n    required,\n    minLength,\n    name\n  } = props;\n  const [values, setValues] = useState({ ...data\n  });\n  const [error, setError] = useState({});\n  required = required || [];\n  minLength = minLength || {};\n  name = name || {};\n  useEffect(() => {\n    setError({});\n    setValues({ ...data\n    });\n  }, [data]);\n\n  const save = () => {\n    const newError = {};\n    required.forEach(key => {\n      if (!fields.find(i => key === i)) {\n        return;\n      }\n\n      if (values[key] === '' || values[key] === undefined || values[key] === null) {\n        newError[key] = `Trường ${name[key] || key} là bắt buộc!`;\n      }\n    });\n    Object.keys(minLength).forEach(key => {\n      if (!fields.find(i => key === i)) {\n        return;\n      }\n\n      if (typeof values[key] === 'string') {\n        if (values[key].length < minLength[key]) {\n          newError[key] = `Trường ${name[key] || key} phải lớn hơn ${minLength[key]} ký tự!`;\n        }\n      }\n    });\n    setError(newError);\n\n    if (Object.keys(newError).length === 0) {\n      if (onSave) onSave(values);\n    }\n  };\n\n  const footer = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex justify-content-end w-full pt-2\",\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      label: \"Hu\\u1EF7\",\n      className: \"p-button-secondary mr-2\",\n      onClick: () => {\n        if (toggle) toggle();\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: () => {\n        save();\n      },\n      label: \"L\\u01B0u\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n\n  return /*#__PURE__*/_jsxDEV(Modal, { ...props,\n    footer: footer,\n    maximizable: true,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4\",\n      children: /*#__PURE__*/_jsxDEV(Upsert, { ...props,\n        values: values,\n        setValues: setValues,\n        error: error,\n        setError: setError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n};\n\n_s(UpsertPopup, \"PjPZgbwqOUPzBK1RqveoY0PBZT8=\");\n\n_c = UpsertPopup;\nexport default UpsertPopup;\n\nvar _c;\n\n$RefreshReg$(_c, \"UpsertPopup\");","map":{"version":3,"names":["Button","useEffect","useState","Modal","Upsert","UpsertPopup","props","fields","toggle","onSave","data","required","minLength","name","values","setValues","error","setError","save","newError","forEach","key","find","i","undefined","Object","keys","length","footer"],"sources":["C:/Users/DELL/Downloads/ClientApp/src/components/form/UpsertPopup.js"],"sourcesContent":["import { Button } from 'primereact/button'\nimport { useEffect, useState } from 'react'\nimport Modal from '../popup/Modal'\nimport Upsert from './Upsert'\n\nconst UpsertPopup = (props) => {\n  const { fields, toggle, onSave, data } = props\n  let { required, minLength, name } = props\n  const [values, setValues] = useState({ ...data })\n  const [error, setError] = useState({})\n\n  required = required || []\n  minLength = minLength || {}\n  name = name || {}\n\n  useEffect(() => {\n    setError({})\n    setValues({ ...data })\n  }, [data])\n\n  const save = () => {\n    const newError = {}\n    required.forEach((key) => {\n      if (!fields.find((i) => key === i)) {\n        return\n      }\n      if (values[key] === '' || values[key] === undefined || values[key] === null) {\n        newError[key] = `Trường ${name[key] || key} là bắt buộc!`\n      }\n    })\n    Object.keys(minLength).forEach((key) => {\n      if (!fields.find((i) => key === i)) {\n        return\n      }\n      if (typeof values[key] === 'string') {\n        if (values[key].length < minLength[key]) {\n          newError[key] = `Trường ${name[key] || key} phải lớn hơn ${minLength[key]} ký tự!`\n        }\n      }\n    })\n    setError(newError)\n    if (Object.keys(newError).length === 0) {\n      if (onSave) onSave(values)\n    }\n  }\n\n  const footer = () => (\n    <div className=\"flex justify-content-end w-full pt-2\">\n      <Button\n        label=\"Huỷ\"\n        className=\"p-button-secondary mr-2\"\n        onClick={() => {\n          if (toggle) toggle()\n        }}\n      />\n      <Button\n        onClick={() => {\n          save()\n        }}\n        label=\"Lưu\"\n      />\n    </div>\n  )\n  return (\n    <Modal {...props} footer={footer} maximizable>\n      <div className=\"mt-4\">\n        <Upsert\n          {...props}\n          values={values}\n          setValues={setValues}\n          error={error}\n          setError={setError}\n        />\n      </div>\n    </Modal>\n  )\n}\n\nexport default UpsertPopup\n"],"mappings":";;;AAAA,SAASA,MAAT,QAAuB,mBAAvB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AACA,OAAOC,MAAP,MAAmB,UAAnB;;;AAEA,MAAMC,WAAW,GAAIC,KAAD,IAAW;EAAA;;EAC7B,MAAM;IAAEC,MAAF;IAAUC,MAAV;IAAkBC,MAAlB;IAA0BC;EAA1B,IAAmCJ,KAAzC;EACA,IAAI;IAAEK,QAAF;IAAYC,SAAZ;IAAuBC;EAAvB,IAAgCP,KAApC;EACA,MAAM,CAACQ,MAAD,EAASC,SAAT,IAAsBb,QAAQ,CAAC,EAAE,GAAGQ;EAAL,CAAD,CAApC;EACA,MAAM,CAACM,KAAD,EAAQC,QAAR,IAAoBf,QAAQ,CAAC,EAAD,CAAlC;EAEAS,QAAQ,GAAGA,QAAQ,IAAI,EAAvB;EACAC,SAAS,GAAGA,SAAS,IAAI,EAAzB;EACAC,IAAI,GAAGA,IAAI,IAAI,EAAf;EAEAZ,SAAS,CAAC,MAAM;IACdgB,QAAQ,CAAC,EAAD,CAAR;IACAF,SAAS,CAAC,EAAE,GAAGL;IAAL,CAAD,CAAT;EACD,CAHQ,EAGN,CAACA,IAAD,CAHM,CAAT;;EAKA,MAAMQ,IAAI,GAAG,MAAM;IACjB,MAAMC,QAAQ,GAAG,EAAjB;IACAR,QAAQ,CAACS,OAAT,CAAkBC,GAAD,IAAS;MACxB,IAAI,CAACd,MAAM,CAACe,IAAP,CAAaC,CAAD,IAAOF,GAAG,KAAKE,CAA3B,CAAL,EAAoC;QAClC;MACD;;MACD,IAAIT,MAAM,CAACO,GAAD,CAAN,KAAgB,EAAhB,IAAsBP,MAAM,CAACO,GAAD,CAAN,KAAgBG,SAAtC,IAAmDV,MAAM,CAACO,GAAD,CAAN,KAAgB,IAAvE,EAA6E;QAC3EF,QAAQ,CAACE,GAAD,CAAR,GAAiB,UAASR,IAAI,CAACQ,GAAD,CAAJ,IAAaA,GAAI,eAA3C;MACD;IACF,CAPD;IAQAI,MAAM,CAACC,IAAP,CAAYd,SAAZ,EAAuBQ,OAAvB,CAAgCC,GAAD,IAAS;MACtC,IAAI,CAACd,MAAM,CAACe,IAAP,CAAaC,CAAD,IAAOF,GAAG,KAAKE,CAA3B,CAAL,EAAoC;QAClC;MACD;;MACD,IAAI,OAAOT,MAAM,CAACO,GAAD,CAAb,KAAuB,QAA3B,EAAqC;QACnC,IAAIP,MAAM,CAACO,GAAD,CAAN,CAAYM,MAAZ,GAAqBf,SAAS,CAACS,GAAD,CAAlC,EAAyC;UACvCF,QAAQ,CAACE,GAAD,CAAR,GAAiB,UAASR,IAAI,CAACQ,GAAD,CAAJ,IAAaA,GAAI,iBAAgBT,SAAS,CAACS,GAAD,CAAM,SAA1E;QACD;MACF;IACF,CATD;IAUAJ,QAAQ,CAACE,QAAD,CAAR;;IACA,IAAIM,MAAM,CAACC,IAAP,CAAYP,QAAZ,EAAsBQ,MAAtB,KAAiC,CAArC,EAAwC;MACtC,IAAIlB,MAAJ,EAAYA,MAAM,CAACK,MAAD,CAAN;IACb;EACF,CAxBD;;EA0BA,MAAMc,MAAM,GAAG,mBACb;IAAK,SAAS,EAAC,sCAAf;IAAA,wBACE,QAAC,MAAD;MACE,KAAK,EAAC,UADR;MAEE,SAAS,EAAC,yBAFZ;MAGE,OAAO,EAAE,MAAM;QACb,IAAIpB,MAAJ,EAAYA,MAAM;MACnB;IALH;MAAA;MAAA;MAAA;IAAA,QADF,eAQE,QAAC,MAAD;MACE,OAAO,EAAE,MAAM;QACbU,IAAI;MACL,CAHH;MAIE,KAAK,EAAC;IAJR;MAAA;MAAA;MAAA;IAAA,QARF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;;EAiBA,oBACE,QAAC,KAAD,OAAWZ,KAAX;IAAkB,MAAM,EAAEsB,MAA1B;IAAkC,WAAW,MAA7C;IAAA,uBACE;MAAK,SAAS,EAAC,MAAf;MAAA,uBACE,QAAC,MAAD,OACMtB,KADN;QAEE,MAAM,EAAEQ,MAFV;QAGE,SAAS,EAAEC,SAHb;QAIE,KAAK,EAAEC,KAJT;QAKE,QAAQ,EAAEC;MALZ;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA;EADF;IAAA;IAAA;IAAA;EAAA,QADF;AAaD,CAvED;;GAAMZ,W;;KAAAA,W;AAyEN,eAAeA,WAAf"},"metadata":{},"sourceType":"module"}